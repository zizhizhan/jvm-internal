package com.zizhizhan.games.tank;

import java.awt.Color;
import java.awt.Graphics;

public class Blood extends TankComposite {
	
	int step = 0;
	private boolean direction;

	private int[][] points = { { 50, 280 }, { 55, 280 }, { 55, 285 },
			{ 60, 285 }, { 60, 290 }, { 65, 290 }, { 70, 290 }, { 70, 285 },
			{ 70, 280 }, { 75, 280 }, { 75, 275 }, { 80, 275 }, { 85, 270 },
			{ 85, 265 }, { 85, 260 }, { 90, 260 }, { 90, 255 }, { 95, 255 },
			{ 95, 260 }, { 100, 260 }, { 100, 255 }, { 105, 255 },
			{ 105, 260 }, { 110, 260 }, { 115, 260 }, { 115, 265 },
			{ 115, 270 }, { 120, 270 }, { 125, 270 }, { 130, 270 },
			{ 135, 270 }, { 135, 275 }, { 140, 275 }, { 140, 280 },
			{ 145, 280 }, { 150, 280 }, { 155, 280 }, { 155, 285 },
			{ 155, 290 }, { 160, 290 }, { 160, 295 }, { 165, 295 },
			{ 165, 290 }, { 170, 290 }, { 170, 285 }, { 170, 280 },
			{ 175, 280 }, { 175, 275 }, { 180, 275 }, { 180, 270 },
			{ 185, 270 }, { 185, 265 }, { 185, 260 }, { 190, 260 },
			{ 190, 255 }, { 190, 260 }, { 195, 260 }, { 200, 260 },
			{ 200, 255 }, { 205, 255 }, { 210, 255 }, { 210, 260 },
			{ 210, 265 }, { 215, 265 }, { 215, 270 }, { 220, 270 },
			{ 225, 270 }, { 225, 275 }, { 230, 275 }, { 235, 275 },
			{ 240, 275 }, { 240, 280 }, { 240, 275 }, { 245, 275 },
			{ 250, 275 }, { 255, 275 }, { 260, 275 }, { 265, 275 },
			{ 265, 270 }, { 270, 270 }, { 270, 275 }, { 270, 280 },
			{ 275, 280 }, { 275, 275 }, { 280, 275 }, { 280, 270 },
			{ 285, 270 }, { 285, 265 }, { 285, 260 }, { 290, 260 },
			{ 290, 255 }, { 295, 255 }, { 295, 260 }, { 300, 260 },
			{ 305, 260 }, { 310, 260 }, { 315, 260 }, { 315, 265 },
			{ 320, 265 }, { 320, 270 }, { 325, 270 }, { 325, 275 },
			{ 325, 280 }, { 330, 280 }, { 330, 285 }, { 335, 285 },
			{ 340, 285 }, { 340, 280 } };

	public Blood() {
		x = points[0][0];
		y = points[0][1];
		this.width = 20;
		this.height = 20;
	}
	
	
	protected void preDraw(){
		if(!isAlive()){
			this.scenario.remove(this);
			return;
		}		
	}
	
	protected void postDraw(){
		moving();
	}
	
	
	public void drawComposite(Graphics g) {		
		
		Color c = g.getColor();
		g.setColor(Color.MAGENTA);
		g.fillRect(x, y, width, height);
		g.setColor(c);
	}

	private void moving() {
				
		if(step == points.length - 1 || step == 0){
			direction = !direction;
		}
		
		if(direction){
			step++;
		}else{
			step--;
		}
		
		x = points[step][0];
		y = points[step][1];
	}

}
